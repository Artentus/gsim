language = "C"

include_guard = "GSIM_H"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"

braces = "SameLine"
tab_width = 4
line_endings = "LF"

documentation = true
documentation_style = "auto"
documentation_length = "full"

usize_is_size_t = true

after_includes = """

#if defined(__GNUC__) && (__GNUC__ >= 4)
#define GSIM_MUST_USE __attribute__ ((warn_unused_result))
#elif defined(_MSC_VER) && (_MSC_VER >= 1700)
#define GSIM_MUST_USE _Check_return_
#else
#define GSIM_MUST_USE
#endif

#define INVALID_WIRE_ID      0xFFFFFFFF
#define INVALID_COMPONENT_ID 0xFFFFFFFF

#define GSIM_RESULT_SUCCESS 0

#define GSIM_RESULT_MAX_STEPS_REACHED 1

#define GSIM_RESULT_FALSE 0
#define GSIM_RESULT_TRUE  1

#define GSIM_RESULT_HIGH_Z    0
#define GSIM_RESULT_UNDEFINED 1
#define GSIM_RESULT_LOGIC_0   2
#define GSIM_RESULT_LOGIC_1   3

#define GSIM_RESULT_NULL_POINTER          -0x0000_0001
#define GSIM_RESULT_POINTER_MISALIGNED    -0x0000_0002
#define GSIM_RESULT_INVALID_ARGUMENT      -0x0000_0003
#define GSIM_RESULT_ARGUMENT_OUT_OF_RANGE -0x0000_0004
#define GSIM_RESULT_UTF8_ENCODING         -0x0000_0005
#define GSIM_RESULT_IO                    -0x0000_0006
#define GSIM_RESULT_INVALID_OPERATION     -0x0000_0007

#define GSIM_RESULT_RESOURCE_LIMIT_REACHED  -0x0001_0001
#define GSIM_RESULT_WIRE_WIDTH_MISMATCH     -0x0001_0002
#define GSIM_RESULT_WIRE_WIDTH_INCOMPATIBLE -0x0001_0003
#define GSIM_RESULT_OFFSET_OUT_OF_RANGE     -0x0001_0004
#define GSIM_RESULT_TOO_FEW_INPUTS          -0x0001_0005
#define GSIM_RESULT_INVALID_INPUT_COUNT     -0x0001_0006
#define GSIM_RESULT_INVALID_COMPONENT_TYPE  -0x0001_0007

#define GSIM_RESULT_CONFLICT             -0x0002_0001
#define GSIM_RESULT_INVALID_WIRE_ID      -0x0002_0002
#define GSIM_RESULT_INVALID_COMPONENT_ID -0x0002_0003

#define GSIM_RESULT_MALFORMED_FORMAT -0x0003_0001
#define GSIM_RESULT_UNSUPPORTED      -0x0003_0002

/**
 * An opaque type representing a logic state of up to 255 bits.
 * Use only behind a pointer.
 */
typedef struct LogicState LogicState;

/**
 * An opaque type used to build up a simulation graph.
 * Use only behind a pointer.
 */
typedef struct Builder Builder;"""


[export]
renaming_overrides_prefixing = false
exclude = [
    "LogicStateRepr",
    "LogicState",
    "SimulatorData",
    "SimulatorBuilder",
]


[export.rename]
"FfiResult" = "GsimResult"
"SimulatorBuilder" = "Builder"
"FfiSimulator" = "Simulator"


[fn]
must_use = "GSIM_MUST_USE"


[parse.expand]
crates = ["gsim"]
all_features = false
default_features = true
features = ["c-api"]
